# 🔴 네트워크

## 🟠 네트워크의 기초

네트워크란 노드와 링크가 서로 연결되어 있으며 리소스를 공유하는 집합을 의미한다.

### 🟢 처리량과 지연 시간

`처리량` 링크 내에서 성공적으로 전달된 데이터의 양을 말한다. 보통 얼만큼의 트래픽을 처리했는지 나타낸다.

`지연 시간(latency)` 요청이 처리되는 시간을 말하며 어떤 메세지가 두 장치 사이를 왕복하는데 걸리는 시간을 의미한다.

### 🟢 네트워크 토폴로지

네트워크 토폴로지는 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태를 의미한다.

`트리` 트리 형태로 배치한 네트워크 구성을 말한다.

`버스` 중앙 통신 회선 하나에 여러개의 노드가 연결되어 공유하는 네트워크 구성을 말하며 LAN에서 사용한다. 설치 비용이 적고 신뢰성이 우수하여 주로 사용되나 스푸핑이 가능한 문제점이 있다.

`스푸핑`이란 LAN상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에게 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것을 말한다.

`스타` 중앙에 있는 노드에 모두 연결된 네트워크 구성을 말한다.

`링형` 각각의 노드가 양 옆의 두 노드와 연결하여 전체적으로 고리처럼 하나의 연속된 통신망을 구성하는 방식이다.

`메시` 그물망처럼 연결되어 있는 구조이다.

### 🟢 병목 현상

네트워크의 구조라고도 일컫는 토폴로지가 중요한 이유는 병목 현상을 찾을 때 중요한 기준이 되기 때문이다.

### 🟢 네트워크 분석 명령어

`ping` 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어이다.

`netstat` 접속되어 있는 서비스들의 네트워크 상태를 표시하는데 사용되며 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여준다.

`nslookup` DNS 관련된 내용을 확인하기 위해 쓰는 명령어이다.

`tracert` 목적지 노드까지 네트워크 경로를 확인할 때 사용하는 명령어이다. 목적지 노드까지 구간들 중 어느 구간에서 응답 시간이 느려진는지 등을 확인할 수 있다.

## 🟠 TCP/IP 4계층 모델

인터넷 프로토콜 스위트는 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합이며, 이를 TCP/IOP 4계층 모델로 설명하거나 OSI 7계층 모델로 설명하기도 한다.

### 🟢 계층구조

| TCP/IP 4계층 |
|-------|
| 애플리케이션 계층 |
| 전송 계층 |
| 인터넷 계층 |
| 링크 계층 |

| OSI 7계층 |
|-------|
| 애플리케이션 계층 |
| 프레젠테이션 계층 |
| 세션 계층 |
| 전송 계층 |
| 네트워크 계층 |
| 데이터 링크 계층 |
| 물리 계층 |

`애플리케이션 계층` FTP, HTTP, SSH, SMTP, DNS 등 응용 프로그램이 사용되는 프로토콜 계층이며 웹서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 계층이다.

`전송 계층` 송신자와 수신자를 연결하는 통신 서비스를 제공하며 연결 지향 데이터 스티림 지원, 신뢰성, 흐름 제어를 제공할 수 있으며 애플리케이션과 인터넷 계층 사이의 데이터가 전달될 때 중계 역할을 한다. 대표적으로 TCP, UDP가 있다.

TCP는 패킷 사이의 순서를 보장하고 연결지향 프로토콜을 사용해서 연결하는 가상회선 패킷 교환 방식을 사용한다.

UDP는 순서를 보장하지 않고 수신 여부를 확인하지 않으며 단순히 데이터만 주는 데이터그램 패킷 교환 방식을 사용한다.

`인터넷 계층` 장치로부터 받은 네트워크 패킷을 IP 주소로 지정된 목적지로 전송하기 위해 사용되는 계층이다. IP, ARP, ICMP 등이 있고 패킷을 수신해야 할 상대의 주소를 지정하여 데이터를 전달한다.

`링크 계층` 전선, 광섬유, 무선 등으로 실질적으로 데이터를 전달하며 장치 간에 신호를 주고받는 규칙을 정하는 계층이다. 

## 🟠 HTTP

### 🟢 HTTP/1.0

HTTP/1.0은 기본적으로 한 연결당 하나의 요청을 처리하도록 설계되었다. 이는 RTT 증가를 불러오게 되었다는 단점이 있다.

`RTT` 패킷이 목적지에 도달하고 나서 다시 출발지로 돌아오기까지 걸리는 시간이며 패킷 왕복 시간

`RTT 증가를 해결하기 위한 방법` RTT 증가로 서버에 부담이 많이 가고 사용자 응답 시간이 길어져 이미지 스플리팅, 코드압축, 이미지 Base64 인코딩 등을 사용하곤 했다.

`이미지 스플리팅` 많은 이미지를 하나씩 다운받으면 계속해서 연결 후 재연결을 하게 되어 모든 이미지가 합쳐져있는 큰 이미지를 다운 받아 html에서 background 설정을 통해 처리하였다.

`코드 압축` 현재도 build에서 사용되듯이 개행 문자, 빈칸을 없애서 코드의 크기를 최소화하는 방법이다.

`Base64 인코딩` 이미지 파일을 64진법으로 이루어진 문자열로 인코딩하는 방법이다. 단점으로는 변환 후 37% 정도 크기가 더 커진다는 단점이 있다.

### 🟢 HTTP/1.1

매번 TCP 연결을 하는 것이 아니라 한번 TCP를 초기화 한 이후에 keep-alive라는 옵션으로 여러 개의 파일을 송수신할 수 있도록 변경되었다.

현재 대부분의 통신에 사용되고 있다. 하지만 헤더에 쿠키 등 많으 ㄴ메타데이터가 들어 있고 압축되지 않아 무거운 단점이 있다.

### 🟢 HTTP/2.0

지연 시간을 줄이고 응답 시간을 빠르게할 수 있으며 멀티플렉싱, 헤어 답축, 서버 푸시, 요청의 우선순위 처리를 지원하는 프로토콜이다.

하지만 여전히 TCP 통신이므로 순서 보장을 위해 지연되는 현상이 존재한다.

### 🟢 HTTP/3.0

UDP 기반으로 3-way-hand-shake 과정을 거치지 않아도 된다.